"use strict";

var path = require('path');

describe("An ArinModule", function () {
  var ArinModule = require('./../lib/arin-module.js'),
      module1,
      module2;

  beforeEach(function(){
    module1 = new ArinModule('module1', path.join(__dirname, '../'));
    module2 = new ArinModule('module2', path.join(__dirname, '../'));
  });

  it("should be equal to another named after it", function(){
    module2.name = module1.name;
    (module1.isEqualTo(module2)).should.be.true;
  });

  it("should be not equal to another with different name", function(){
    (module1.isEqualTo(module2)).should.be.false;
  });

  it("should not add a dependency if it has been added before", function(){
    module1.addDependency(module2);
    (module1.addDependency(module2)).should.be.equal(-1);
  });

  it("should return false if it has another module as a dependency", function(){
    module1.addDependency(module2);
    (module1.hasDependency(module2)).should.be.true;
  });

});